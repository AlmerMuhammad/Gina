<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>I Love You - From Ame</title>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Caveat', cursive;
      background-color: #000000;
      overflow: hidden;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Page container */
    .page-container {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    /* Close (X) Button */
    .close-btn {
      position: fixed;
      top: 25px;
      left: 25px;
      font-size: 32px;
      color: white;
      text-decoration: none;
      font-weight: 700;
      z-index: 2000;
      background: rgba(255, 255, 255, 0.15);
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    /* Individual pages */
    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 50px 20px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease-in-out;
    }

    .page.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Navigation controls */
    .nav-controls {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 20px;
      align-items: center;
      z-index: 1000;
    }

    .nav-btn {
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: white;
      padding: 12px 24px;
      font-family: 'Caveat', cursive;
      font-size: 20px;
      font-weight: 600;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      border-color: rgba(255, 255, 255, 0.8);
      transform: scale(1.05);
    }

    .nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .page-indicator {
      color: rgba(255, 255, 255, 0.7);
      font-size: 18px;
      font-weight: 600;
    }

    /* Content sections */
    .credits-section {
      text-align: center;
      color: #ffffff;
      max-width: 900px;
      animation: fadeIn 1s ease-in;
      position: relative;
      z-index: 20;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      font-size: 64px;
      font-weight: 700;
      margin-bottom: 30px;
      letter-spacing: 2px;
    }

    h2 {
      font-size: 48px;
      font-weight: 600;
      margin-bottom: 20px;
      color: #ff2a22;
    }

    p {
      font-size: 32px;
      font-weight: 400;
      line-height: 1.8;
      margin: 0 auto;
    }

    .heart-icon {
      font-size: 72px;
      color: #ff2a22;
      margin: 30px 0;
      animation: heartbeat 1.5s infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .final-message {
      font-size: 40px !important;
      font-weight: 700;
      color: #ff2a22;
      margin-top: 30px;
    }

    .final-message2 {
      font-size: 36px !important;
      font-weight: 600;
      color: #ff2a22;
      margin-top: 30px;
    }

    /* Polaroid photos page (page 12 grid) */
    .polaroid-page {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      padding: 80px 40px 120px;
      max-width: 1200px;
      overflow-y: auto;
      align-content: start;
    }

    .polaroid {
      width: 100%;
      max-width: 280px;
      background: white;
      padding: 15px;
      padding-bottom: 60px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transform: rotate(var(--rotation, 0deg));
      transition: transform 0.3s ease;
      justify-self: center;
      position: relative;
    }

    .polaroid:hover {
      transform: rotate(0deg) scale(1.05);
      z-index: 10;
    }

    .polaroid:nth-child(odd) { --rotation: -3deg; }
    .polaroid:nth-child(even) { --rotation: 3deg; }

    .polaroid img {
      width: 100%;
      height: 280px;
      object-fit: cover;
      display: block;
      background: #f0f0f0;
    }

    .polaroid-caption {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      text-align: center;
      font-family: 'Caveat', cursive;
      font-size: 18px;
      color: #333;
      font-weight: 600;
    }

    /* ===========================
       FALLING POLAROIDS LAYER
       =========================== */
    .falling-polaroids-layer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      opacity: 0;
      transition: opacity 1.2s ease-in;
    }

    .falling-polaroids-layer.active {
      opacity: 1;
    }

    /* Falling polaroid frame */
    .polaroid-falling {
      position: absolute;
      background: #ffffff;
      padding: 12px 12px 48px 12px;
      box-shadow:
        0 10px 25px rgba(0,0,0,0.2),
        0 4px 8px rgba(0,0,0,0.1);
      border-radius: 2px;
      animation: fall linear forwards;
      pointer-events: none;
    }

    .polaroid-falling.portrait  { width: 160px; }
    .polaroid-falling.landscape { width: 210px; }
    .polaroid-falling.square    { width: 175px; }

    @media (min-width: 768px) {
      .polaroid-falling.portrait  { width: 200px; }
      .polaroid-falling.landscape { width: 265px; }
      .polaroid-falling.square    { width: 230px; }
    }

    @media (min-width: 1280px) {
      .polaroid-falling.portrait  { width: 240px; }
      .polaroid-falling.landscape { width: 320px; }
      .polaroid-falling.square    { width: 270px; }
    }

    .polaroid-falling img {
      width: 100%;
      display: block;
      max-height: 260px;
      object-fit: cover;
    }

    .polaroid-caption-falling {
      position: absolute;
      bottom: 6px;
      left: 10px;
      right: 10px;
      text-align: center;
      font-size: 11px;
      color: #666;
      font-family: 'Caveat', cursive;
      font-weight: 600;
      line-height: 1.3;
    }

    @keyframes fall {
      0% {
        transform: translateY(-250px) rotate(var(--rotate));
        opacity: 0;
      }
      8% { opacity: 0.9; }
      90% { opacity: 0.85; }
      100% {
        transform: translateY(110vh) translateX(var(--drift)) rotate(calc(var(--rotate) + 5deg));
        opacity: 0;
      }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      h1 { font-size: 42px; }
      h2 { font-size: 36px; }
      p { font-size: 24px; }
      .final-message { font-size: 38px !important; }
      .heart-icon { font-size: 56px; }

      .polaroid-page {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 60px 20px 120px;
      }

      .polaroid { max-width: 100%; }
      .nav-btn { padding: 10px 18px; font-size: 18px; }
    }

    @media (max-width: 1024px) and (min-width: 769px) {
      .polaroid-page { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>

  <!-- Audio Element -->
  <audio id="pageAudio" preload="auto" loop></audio>

  <!-- Falling Polaroids Layer (behind everything) -->
  <div class="falling-polaroids-layer" id="fallingLayer"></div>

  <div class="page-container">
    <!-- Close Button -->
    <a href="crane.html" class="close-btn">✕</a>

    <!-- Page 1 -->
    <div class="page active" data-page="1">
      <div class="credits-section">
        <h1>Halo gina,</h1>
        <p>
          Ame tau, ame jauh dari ame yang gina kenal. Tapi jangan salah yaa, sayang ame sama kamu gapernah berubah sedikitpun.
        </p>
      </div>
    </div>

    <!-- Page 2 -->
    <div class="page" data-page="2">
      <div class="credits-section">
        <div class="heart-icon">♥</div>
        <p>
          Mungkin cara ame keliatan beda, mungkin ame lagi lebih sering diem, lebih sering mikir sendiri, atau keliatan kaya lagi sibuk sama dunia ame yang berantakan ini.
        </p>
      </div>
    </div>

    <!-- Page 3 -->
    <div class="page" data-page="3">
      <div class="credits-section">
        <p>
          Tapi di tengah semua itu, satu hal yang ga pernah geser sedikitpun itu perasaan ame ke kamu. Itu tetap di tempat yang sama, tetap hangat, tetap utuh.
        </p>
      </div>
    </div>

    <!-- Page 4 -->
    <div class="page" data-page="4">
      <div class="credits-section">
        <div class="heart-icon">♥</div>
        <p>
          Akhir-akhir ini memang banyak hal yang rumit dan susah. Banyak yang bikin kepala penuh, hati capek, dan hari terasa lebih berat dari biasanya.
        </p>
      </div>
    </div>

    <!-- Page 5 -->
    <div class="page" data-page="5">
      <div class="credits-section">
        <p>
          Kadang ame juga ngerasa kewalahan, ngerasa kaya lagi belajar ulang jadi diri sendiri. Tapi tolong percaya satu hal ya sayang, ame gaakan pernah kemana-mana.
        </p>
      </div>
    </div>

    <!-- Page 6 -->
    <div class="page" data-page="6">
      <div class="credits-section">
        <div class="heart-icon">♥</div>
        <p>
          Seberat apapun hari ame, seacak apapun pikiran ame, tempat ame tetap di samping kamu. Ame mungkin berubah dalam banyak hal, tapi bukan dalam cara ame milih kamu.
        </p>
      </div>
    </div>

    <!-- Page 7 -->
    <div class="page" data-page="7">
      <div class="credits-section">
        <p>
          Itu keputusan yang ame ambil tiap hari, sadar, tanpa ragu.
        </p>
      </div>
    </div>

    <!-- Page 8 -->
    <div class="page" data-page="8">
      <div class="credits-section">
        <p>
          Kalau suatu saat ame keliatan jauh, itu bukan karena ame mau ninggalin kamu. Itu cuma karena ame lagi berusaha beresin badai di dalam diri ame sendiri.
        </p>
      </div>
    </div>

    <!-- Page 9 -->
    <div class="page" data-page="9">
      <div class="credits-section">
        <p>
          Bukan buat menjauh, tapi justru supaya ame bisa jadi lebih baik buat kamu.
        </p>
        <div class="heart-icon">♥</div>
      </div>
    </div>

    <!-- Page 10 -->
    <div class="page" data-page="10">
      <div class="credits-section">
        <p>
          Jadi jangan takut yaa. Jangan mikir ame berubah perasaan. Karena dari dulu sampai sekarang, bahkan di saat ame lagi paling lelah sekalipun, satu hal yang selalu bikin ame tenang itu kamu.
        </p>
      </div>
    </div>

    <!-- Page 11 -->
    <div class="page" data-page="11">
      <div class="credits-section">
        <div class="heart-icon">♥</div>
        <p class="final-message">
          Ame disini. Masih disini.<br>
          Dan akan tetap disini.
        </p>
      </div>
    </div>

    <!-- Page 12 - Polaroid Photos -->
    <div class="page" data-page="12">
      <div class="polaroid-page">
        <div class="polaroid">
          <img src="ame/amengina/ame(1).jpg" alt="Memory 1">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(2).jpg" alt="Memory 2">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(3).jpg" alt="Memory 3">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(4).jpg" alt="Memory 4">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(5).jpg" alt="Memory 5">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(6).jpg" alt="Memory 6">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(7).jpg" alt="Memory 7">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(8).jpg" alt="Memory 8">
          <div class="polaroid-caption"></div>
        </div>
        <div class="polaroid">
          <img src="ame/amengina/ame(9).jpg" alt="Memory 9">
          <div class="polaroid-caption"></div>
        </div>
      </div>
    </div>

    <!-- Page 13 - Final Message -->
    <div class="page" data-page="13">
      <div class="credits-section">
        <div class="heart-icon">♥</div>
        <h2>Happy Valentine's Day, Gina.</h2>
        <p class="final-message2">Sehat selalu, orang kesayangan ame.</p>
        <p class="final-message">Ame sayang banget sama gina.</p>
      </div>
    </div>

  </div>

  <!-- Navigation Controls -->
  <div class="nav-controls">
    <button class="nav-btn" id="prevBtn" disabled>← Previous</button>
    <span class="page-indicator" id="pageIndicator">1 / 13</span>
    <button class="nav-btn" id="nextBtn">Next →</button>
  </div>

  <script>
    // ===========================
    // IMAGE DATA (from index.html)
    // ===========================
    const images = [
      "assets/Gina/Gina(1).jpg",
      "assets/Gina/Gina(2).jpg",
      "assets/Gina/Gina(3).jpg",
      "assets/Gina/Gina(4).jpg",
      "assets/Gina/Gina(5).jpg",
      "assets/Gina/Gina(6).jpg",
      "assets/Gina/Gina(7).jpg",
      "assets/Gina/Gina(8).jpg",
      "assets/Gina/Gina(9).jpg",
      "assets/Gina/Gina(10).jpg",
      "assets/Gina/Gina(11).jpg",
      "assets/Gina/Gina(12).jpg",
      "assets/Gina/Gina(13).jpg",
      "assets/Gina/Gina(14).jpg",
      "assets/Gina/Gina(15).jpg",
      "assets/Gina/Gina(16).jpg",
      "assets/Gina/Gina(17).jpg",
      "assets/Gina/Gina(18).jpg",
      "assets/Gina/Gina(19).jpg",
      "assets/Gina/Gina(20).jpg",
      "assets/Gina/Gina(21).jpg",
      "assets/Gina/Gina(22).jpg",
      "assets/Gina/Gina(23).jpg",
      "assets/Gina/Gina(24).jpg",
      "assets/Gina/Gina(25).jpg",
      "assets/Gina/Gina(26).jpg",
      "assets/Gina/Gina(27).jpg",
      "assets/Gina/Gina(28).jpg",
      "assets/Gina/Gina(29).jpg",
      "assets/Gina/Gina(30).jpg",
    ];

    const affirmations = [
      "you're perfect — because you're gina.",
      "ame is so lucky to love you.",
      "you don't just shine, you glow differently.",
      "kamu itu rumah buat ame.",
      "you make me want to be softer.",
      "the way you chase your dreams makes me admire you even more.",
      "you're not flawless — you're real. and that's why you're perfect.",
      "ame bangga banget sama kamu.",
      "you make loving you feel easy.",
      "kamu bikin ame ngerasa cukup.",
      "your eyes still make me nervous in the best way.",
      "kamu selalu kuat, bahkan pas kamu capek.",
      "i didn't fall in love with perfection. i fell in love with you.",
      "kamu bikin dunia ame lebih hangat.",
      "you're the reason ame still believes in love.",
      "you make me want to hug you every second.",
      "ame selalu jatuh cinta lagi tiap liat kamu.",
      "you make me feel chosen.",
      "kamu itu detail yang bikin hidup ame indah.",
      "kamu bikin ame ngerasa pulang.",
      "i love how independent you are.",
      "you make love feel safe.",
      "ame bakal selalu lari ke pelukan kamu.",
      "you're my favorite person in every lifetime.",
      "kamu itu tulus dan hangat banget.",
      "kamu bikin ame pengen jadi versi terbaik ame.",
      "kamu adalah alasan ame bertahan.",
      "you make my heart feel full.",
      "ame sayang banget sama kamu.",
      "you are my always.",
    ];

    // ===========================
    // FALLING POLAROIDS SYSTEM
    // ===========================
    const fallingLayer = document.getElementById('fallingLayer');
    const activePolaroids = [];
    const maxOnScreen = 7;
    const minDistance = 200;
    let polaroidInterval = null;
    let fallingActive = false;

    function isTooClose(x) {
      return activePolaroids.some(px => Math.abs(px - x) < minDistance);
    }

    function createFallingPolaroid() {
      if (activePolaroids.length >= maxOnScreen) return;

      const maxWidth = window.innerWidth >= 1280 ? 340 :
                       window.innerWidth >= 768  ? 285 : 230;

      let x, attempts = 0;
      do {
        x = Math.random() * (window.innerWidth - maxWidth);
        attempts++;
      } while (isTooClose(x) && attempts < 20);

      if (isTooClose(x)) return;

      const randomIndex = Math.floor(Math.random() * images.length);

      const polaroid = document.createElement('div');
      polaroid.classList.add('polaroid-falling');

      const img = document.createElement('img');
      img.src = images[randomIndex];
      img.onload = function () {
        const ratio = this.naturalWidth / this.naturalHeight;
        if (ratio > 1.2)      polaroid.classList.add('landscape');
        else if (ratio < 0.8) polaroid.classList.add('portrait');
        else                  polaroid.classList.add('square');
      };
      // default class so it doesn't collapse before onload
      polaroid.classList.add('square');
      polaroid.appendChild(img);

      const caption = document.createElement('div');
      caption.className = 'polaroid-caption-falling';
      caption.innerText = affirmations[randomIndex % affirmations.length];
      polaroid.appendChild(caption);

      const rotate  = (Math.random() * 22 - 11) + 'deg';
      const drift   = (Math.random() * 70 - 35) + 'px';
      const duration = 9 + Math.random() * 6;

      polaroid.style.left = x + 'px';
      polaroid.style.setProperty('--rotate', rotate);
      polaroid.style.setProperty('--drift', drift);
      polaroid.style.animationDuration = duration + 's';

      fallingLayer.appendChild(polaroid);
      activePolaroids.push(x);

      setTimeout(() => {
        polaroid.remove();
        const idx = activePolaroids.indexOf(x);
        if (idx > -1) activePolaroids.splice(idx, 1);
      }, duration * 1000);
    }

    function startFallingPolaroids() {
      if (fallingActive) return;
      fallingActive = true;
      fallingLayer.classList.add('active');
      // Burst a few immediately so screen isn't empty
      createFallingPolaroid();
      setTimeout(createFallingPolaroid, 400);
      setTimeout(createFallingPolaroid, 800);
      polaroidInterval = setInterval(createFallingPolaroid, 1800);
    }

    function stopFallingPolaroids() {
      if (!fallingActive) return;
      fallingActive = false;
      clearInterval(polaroidInterval);
      polaroidInterval = null;
      fallingLayer.classList.remove('active');
      // Remove any in-flight polaroids
      fallingLayer.innerHTML = '';
      activePolaroids.length = 0;
    }

    // ===========================
    // CAROUSEL NAVIGATION
    // ===========================
    let currentPage = 1;
    const totalPages = 13;
    const pages = document.querySelectorAll('.page');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageIndicator = document.getElementById('pageIndicator');

    function showPage(pageNum) {
      pages.forEach(page => page.classList.remove('active'));

      const targetPage = document.querySelector(`[data-page="${pageNum}"]`);
      if (targetPage) targetPage.classList.add('active');

      pageIndicator.textContent = `${pageNum} / ${totalPages}`;

      prevBtn.disabled = pageNum === 1;
      // On page 13, next button stays enabled so they can trigger falling polaroids
      nextBtn.disabled = false;

      // Update next button label on last page
      nextBtn.textContent = pageNum === totalPages ? '♥ For You' : 'Next →';

      currentPage = pageNum;

      // Start/stop falling polaroids based on page
      if (pageNum === totalPages) {
        startFallingPolaroids();
      } else {
        stopFallingPolaroids();
      }
    }

    // Navigation button handlers
    prevBtn.addEventListener('click', () => {
      if (currentPage > 1) {
        showPage(currentPage - 1);
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentPage < totalPages) {
        showPage(currentPage + 1);
      } else {
        // Already on page 13 with falling polaroids — just let them enjoy it
        // (optional: could navigate somewhere else here)
      }
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft' && currentPage > 1) {
        showPage(currentPage - 1);
      } else if (e.key === 'ArrowRight' && currentPage < totalPages) {
        showPage(currentPage + 1);
      }
    });

    // Touch/swipe support for mobile
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });

    function handleSwipe() {
      if (touchEndX < touchStartX - 50 && currentPage < totalPages) {
        showPage(currentPage + 1);
      }
      if (touchEndX > touchStartX + 50 && currentPage > 1) {
        showPage(currentPage - 1);
      }
    }

    // Initialize
    showPage(1);

    // ===========================
    // AUDIO
    // ===========================
    const pageAudio = document.getElementById('pageAudio');

    window.addEventListener('load', function () {
      pageAudio.src = 'music/wyls.mp3';
      pageAudio.volume = 0;
      pageAudio.play().catch(() => {});

      let fade = setInterval(() => {
        if (pageAudio.volume < 0.95) {
          pageAudio.volume += 0.05;
        } else {
          pageAudio.volume = 1;
          clearInterval(fade);
        }
      }, 50);
    });
  </script>
</body>
</html>